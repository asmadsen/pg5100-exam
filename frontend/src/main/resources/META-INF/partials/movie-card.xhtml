<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xml:lang="en" lang="en">
<ui:component>
    <!--@elvariable id="movie" type="no.asmadsen.exam.entity.Movie"-->
    <div class="card h-100 movie-card">
        <span class="d-none all-genres">#{utils.toCSV(movie.genres)}</span>
        <div class="card-body d-flex flex-column">
            <h5 class="card-title">${movie.title}</h5>
            <div class="row overflow-hidden mx-0 mt-2 mb-1">
                <ui:repeat value="${movie.first3Genres}" var="genre">
                    <span class="badge badge-pill badge-primary mr-1 mb-1">${genre}</span>
                </ui:repeat>
                <ui:fragment rendered="${movie.genres.size() > 3}">
                    <span class="badge badge-pill badge-secondary mb-1">${movie.genres.size() - 3}+</span>
                </ui:fragment>
            </div>
            <p class="card-text flex-grow-1">${movie.plot}</p>
            <h:link outcome="/movie.jsf?id=${movie.id}" styleClass="btn btn-primary btn-block show-details-btn" value="Read more" />
        </div>
    </div>
</ui:component>
</html>